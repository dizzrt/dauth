// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package cmd

import (
	"github.com/dizzrt/dauth/internal/application"
	"github.com/dizzrt/dauth/internal/conf"
	"github.com/dizzrt/dauth/internal/domain/identity/biz"
	"github.com/dizzrt/dauth/internal/handler"
	"github.com/dizzrt/dauth/internal/infra/common"
	"github.com/dizzrt/dauth/internal/infra/repo"
	"github.com/dizzrt/dauth/internal/server"
	"github.com/dizzrt/ellie"
	"go.opentelemetry.io/otel/sdk/trace"
)

// Injectors from wire.go:

func wireApp() (*WireApp, func(), error) {
	bootstrap := conf.NewBootstrap()
	logWriter := common.NewLogger(bootstrap)
	registrar := common.NewRegistrar(bootstrap)
	baseDB := common.NewBaseDB(bootstrap)
	userRepo := repo.NewUserRepoImpl(baseDB)
	userBiz := biz.NewUserBiz(userRepo)
	roleRepo := repo.NewRoleRepoImpl(baseDB)
	userRoleAssociationRepo := repo.NewUserRoleAssociationRepoImpl(baseDB)
	roleBiz := biz.NewRoleBiz(roleRepo, userRoleAssociationRepo)
	identityApplication := application.NewIdentityApplication(userBiz, roleBiz)
	identityHandler := handler.NewIdentityHandler(identityApplication)
	grpcServer := server.NewGRPCServer(bootstrap, logWriter, identityHandler)
	httpServer := server.NewHTTPServer(bootstrap, logWriter, identityHandler)
	app := newApp(logWriter, registrar, grpcServer, httpServer)
	tracerProvider := common.NewTracerProvider(bootstrap)
	cmdWireApp := newWireApp(app, tracerProvider)
	return cmdWireApp, func() {
	}, nil
}

// wire.go:

type WireApp struct {
	App *ellie.App
	TP  *trace.TracerProvider
}

func newWireApp(app *ellie.App, tp *trace.TracerProvider) *WireApp {
	return &WireApp{
		App: app,
		TP:  tp,
	}
}
