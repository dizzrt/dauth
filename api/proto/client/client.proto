syntax = "proto3";

package client;
option go_package = "github.com/dizzrt/dauth/api/gen/client;client";

import "base/base.proto";
import "google/api/annotations.proto";

message CreateRequest {
    string name = 1;
    string description = 2;
    string secret = 3;
    string redirect_uri = 4;
    repeated uint32 scopes = 5;

    base.Base base = 255;
}

message CreateResponse {
    uint32 client_id = 1;

    base.BaseResp base_resp = 255;
}

message ValidateRequest {
    uint32 client_id = 1;
    string scope = 2;

    base.Base base = 255;
}

message ValidateResponse {
    bool is_ok = 1;
    string reason = 2;

    base.BaseResp base_resp = 255;
}


service ClientService {
    // Create creates a new client.
    rpc Create(CreateRequest) returns (CreateResponse) {
        option (google.api.http) = {
            post: "/client/client/create"
            body: "*"
        };
    }

    // Validate validates the client and scope.
    rpc Validate(ValidateRequest) returns (ValidateResponse) {}
}